import{j as e,E as w,b as N,g as f,C as y}from"./mui-BJon3m8q.js";import{a as i}from"./chart-BOdAsdoy.js";import{u as E,e as C}from"./redux-hkUHSYAv.js";import{f as I,o as B,p as S,u as M}from"./index-Bz2acmnO.js";import"./firebase-DhH1w7N4.js";import"./react-8-RJajJm.js";const F=()=>{const[s,o]=i.useState({name:"",location:"",managerId:"",managerEmail:"",password:""}),[x,g]=i.useState(null),[t,r]=i.useState({name:"",location:"",managerId:"",managerEmail:"",password:""}),d=E(),{branches:c,loading:m}=C(a=>a.branchReducer);i.useEffect(()=>{d(I())},[d]);const h=a=>{a.preventDefault(),d(B({...s,inventory:{},employees:[],reviews:[]})),o({name:"",location:"",managerId:"",managerEmail:"",password:""})},b=a=>{g(a.id),r({name:a.name||"",location:a.location||"",managerId:a.managerId||"",managerEmail:a.managerEmail||"",password:a.password||""})},p=()=>{g(null),r({name:"",location:"",managerId:"",managerEmail:"",password:""})},v=async a=>{await d(M({id:a,data:{...t}})),p()},j=a=>{d(S(a))},l="w-full px-4 py-3 bg-gray-800 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",u="bg-gray-800/60 border border-white/10 rounded-xl p-5 shadow hover:shadow-xl transition-shadow duration-200";return e.jsxs("section",{className:"max-w-7xl mx-auto px-2 md:px-4",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Branch Management"}),e.jsx("form",{onSubmit:h,className:`${u} mb-8`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-3",children:[e.jsx("input",{type:"text",placeholder:"Branch Name",value:s.name,onChange:a=>o({...s,name:a.target.value}),required:!0,className:l}),e.jsx("input",{type:"text",placeholder:"Location",value:s.location,onChange:a=>o({...s,location:a.target.value}),required:!0,className:l}),e.jsx("input",{type:"text",placeholder:"Manager ID",value:s.managerId,onChange:a=>o({...s,managerId:a.target.value}),required:!0,className:l}),e.jsx("input",{type:"email",placeholder:"Manager Email",value:s.managerEmail,onChange:a=>o({...s,managerEmail:a.target.value}),required:!0,className:l}),e.jsx("input",{type:"password",placeholder:"Manager Password",value:s.password,onChange:a=>o({...s,password:a.target.value}),required:!0,className:`${l} md:col-span-1 xl:col-span-3`}),e.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 rounded-md font-semibold transition-colors bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-60 md:col-span-1 xl:col-span-1 h-[48px] w-full md:w-auto",children:m?"Adding...":"Add Branch"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-5",children:c&&c.length>0?c.map(a=>e.jsxs("div",{className:u,children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:a.name}),e.jsxs("p",{className:"text-gray-300",children:["Location: ",e.jsx("span",{className:"text-blue-300",children:a.location})]}),e.jsxs("p",{className:"text-gray-300",children:["Manager ID: ",e.jsx("span",{className:"text-blue-300",children:a.managerId})]}),a.managerEmail&&e.jsxs("p",{className:"text-gray-300",children:["Manager Email: ",e.jsx("span",{className:"text-blue-300",children:a.managerEmail})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>b(a),"aria-label":"Edit branch",title:"Edit",className:"p-2 rounded-md bg-green-600 hover:bg-green-700 text-white shadow-sm",children:e.jsx(w,{fontSize:"small"})}),e.jsx("button",{onClick:()=>j(a.id),disabled:m,"aria-label":"Delete branch",title:"Delete",className:"p-2 rounded-md bg-red-600 hover:bg-red-700 text-white shadow-sm disabled:opacity-60",children:e.jsx(N,{fontSize:"small"})})]})]}),x===a.id&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{className:l,type:"text",placeholder:"Branch Name",value:t.name,onChange:n=>r({...t,name:n.target.value})}),e.jsx("input",{className:l,type:"text",placeholder:"Location",value:t.location,onChange:n=>r({...t,location:n.target.value})}),e.jsx("input",{className:l,type:"text",placeholder:"Manager ID",value:t.managerId,onChange:n=>r({...t,managerId:n.target.value})}),e.jsx("input",{className:l,type:"email",placeholder:"Manager Email",value:t.managerEmail,onChange:n=>r({...t,managerEmail:n.target.value})}),e.jsx("input",{className:`${l} md:col-span-2`,type:"password",placeholder:"Manager Password",value:t.password,onChange:n=>r({...t,password:n.target.value})})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[e.jsx("button",{onClick:()=>v(a.id),"aria-label":"Save",title:"Save",className:"p-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white",children:e.jsx(f,{fontSize:"small"})}),e.jsx("button",{onClick:p,"aria-label":"Cancel",title:"Cancel",className:"p-2 rounded-md bg-gray-700 hover:bg-gray-600 text-white",children:e.jsx(y,{fontSize:"small"})})]})]})]},a.id)):e.jsx("div",{className:"col-span-full text-gray-400",children:"No branches found."})})]})};export{F as default};
