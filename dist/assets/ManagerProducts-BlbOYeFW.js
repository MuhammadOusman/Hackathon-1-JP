import{j as s}from"./mui-BJon3m8q.js";import{a as o}from"./chart-BOdAsdoy.js";import{e as i}from"./redux-hkUHSYAv.js";const h="bg-gray-800/60 border border-white/10 rounded-xl p-5 shadow hover:shadow-xl transition-shadow duration-200",k=()=>{const u=i(e=>e.userReducer?.currentManager?.managerId),{branches:g}=i(e=>e.branchReducer),d=g.find(e=>e.managerId===u),m=i(e=>e.productReducer?.products?.length?e.productReducer.products:[]),[c,b]=o.useState(""),[l,p]=o.useState("all"),[n,f]=o.useState("name-asc"),x=o.useMemo(()=>{let a=m.map(t=>{const r=d?.inventory?.[t.name]??0,v=r>0;return{...t,qty:r,inStock:v}}).filter(t=>t.name.toLowerCase().includes(c.toLowerCase()));l==="in"&&(a=a.filter(t=>t.inStock)),l==="out"&&(a=a.filter(t=>!t.inStock));const j={"name-asc":(t,r)=>t.name.localeCompare(r.name),"name-desc":(t,r)=>r.name.localeCompare(t.name),"price-asc":(t,r)=>Number(t.price||0)-Number(r.price||0),"price-desc":(t,r)=>Number(r.price||0)-Number(t.price||0)}[n];return a.sort(j)},[m,d,c,l,n]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-extrabold",children:"Products"}),s.jsxs("div",{className:`${h} flex flex-col md:flex-row md:items-end gap-3`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Search"}),s.jsx("input",{value:c,onChange:e=>b(e.target.value),placeholder:"Search products...",className:"w-full bg-gray-900/60 border border-white/10 rounded-lg px-3 py-2 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Stock"}),s.jsx("div",{className:"flex gap-2",children:[{k:"all",label:"All"},{k:"in",label:"In Stock"},{k:"out",label:"Out of Stock"}].map(e=>s.jsx("button",{onClick:()=>p(e.k),className:`px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${l===e.k?"bg-blue-600 text-white":"bg-gray-800 text-blue-300 hover:bg-blue-700/40 hover:text-white"}`,children:e.label},e.k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort by"}),s.jsxs("select",{value:n,onChange:e=>f(e.target.value),className:"bg-gray-900/60 border border-white/10 rounded-lg px-3 py-2 text-white",children:[s.jsx("option",{value:"name-asc",children:"Name (A→Z)"}),s.jsx("option",{value:"name-desc",children:"Name (Z→A)"}),s.jsx("option",{value:"price-asc",children:"Price (Low→High)"}),s.jsx("option",{value:"price-desc",children:"Price (High→Low)"})]})]})]}),s.jsx("div",{className:`${h}`,children:x.length===0?s.jsx("div",{className:"text-gray-400",children:"No products match your filters."}):s.jsx("div",{className:"flex flex-wrap gap-4",children:x.map(e=>{const a=e.inStock?"bg-green-500":"bg-red-500";return s.jsxs("div",{className:"group flex items-center gap-3 pl-2 pr-3 py-2 rounded-full bg-gray-900/60 border border-white/10 text-white shadow-sm hover:shadow-md hover:border-white/20 transition",title:typeof e.qty=="number"?`Qty: ${e.qty}`:void 0,children:[e.image?s.jsx("img",{src:e.image,alt:e.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 grid place-items-center text-sm font-bold",children:e.name?.[0]||"?"}),s.jsx("div",{className:"font-semibold mr-1",children:e.name}),s.jsxs("div",{className:"text-indigo-400",children:["Rs ",e.price]}),s.jsx("span",{className:`ml-2 text-white text-xs font-bold px-2 py-0.5 rounded ${a}`,children:e.inStock?"In Stock":"Out of Stock"})]},e.id||e.name)})})})]})};export{k as default};
