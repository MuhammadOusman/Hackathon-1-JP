const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PieChart-CqTPbPau.js","assets/mui-BJon3m8q.js","assets/chart-BOdAsdoy.js","assets/LineChart-CgbrIxX5.js","assets/BarChart-7knSKO9a.js"])))=>i.map(i=>d[i]);
import{f as j,h as p,c as v,j as b,_ as c}from"./index-Bz2acmnO.js";import{j as e}from"./mui-BJon3m8q.js";import{a as r}from"./chart-BOdAsdoy.js";import{u as f,e as t}from"./redux-hkUHSYAv.js";import{s as u,a as N,b as y,c as w,d as _,m as P,e as R,f as O,g as B}from"./selectors-CK2Si-pi.js";import"./firebase-DhH1w7N4.js";import"./react-8-RJajJm.js";const k=r.lazy(()=>c(()=>import("./PieChart-CqTPbPau.js"),__vite__mapDeps([0,1,2]))),C=r.lazy(()=>c(()=>import("./LineChart-CgbrIxX5.js"),__vite__mapDeps([3,1,2]))),E=r.lazy(()=>c(()=>import("./BarChart-7knSKO9a.js"),__vite__mapDeps([4,1,2]))),a="bg-gray-800/60 border border-white/10 rounded-xl p-5 shadow hover:shadow-xl transition-shadow duration-200",z=()=>{const d=f();t(u),t(N),t(y);const m=t(s=>s.offersReducer?.offers||[]);r.useEffect(()=>{d(j()),d(p()),d(v()),d(b())},[d]);const l=t(w),i=t(_),n=t(P(10)),o=t(R),x=t(O),h=t(B);return e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-extrabold mb-6",children:"Admin Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:a,children:[e.jsx("div",{className:"text-gray-400",children:"Branches"}),e.jsx("div",{className:"text-3xl font-bold text-white",children:l.totalBranches})]}),e.jsxs("div",{className:a,children:[e.jsx("div",{className:"text-gray-400",children:"Products"}),e.jsx("div",{className:"text-3xl font-bold text-white",children:l.totalProducts})]}),e.jsxs("div",{className:a,children:[e.jsx("div",{className:"text-gray-400",children:"Orders"}),e.jsx("div",{className:"text-3xl font-bold text-white",children:l.totalOrders})]}),e.jsxs("div",{className:a,children:[e.jsx("div",{className:"text-gray-400",children:"Revenue (est.)"}),e.jsxs("div",{className:"text-3xl font-bold text-emerald-300",children:["Rs. ",l.revenue]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[e.jsxs("div",{className:`${a} lg:col-span-1`,children:[e.jsx("div",{className:"text-white font-semibold mb-3",children:"Orders by Branch"}),e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"text-gray-400 text-sm",children:"Loading chart…"}),children:e.jsx(k,{data:{labels:i.labels,datasets:[{data:i.data,backgroundColor:["#60a5fa","#34d399","#fbbf24","#f87171","#a78bfa","#fb7185"]}]}})})]}),e.jsxs("div",{className:`${a} lg:col-span-1`,children:[e.jsx("div",{className:"text-white font-semibold mb-3",children:"Revenue Trend (last 10 orders)"}),e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"text-gray-400 text-sm",children:"Loading chart…"}),children:e.jsx(C,{data:{labels:n.labels,datasets:[{label:"Revenue",data:n.points,fill:!1,borderColor:"#60a5fa",backgroundColor:"#60a5fa",tension:.3}]},options:{plugins:{legend:{display:!1}}}})})]}),e.jsxs("div",{className:`${a} lg:col-span-1`,children:[e.jsx("div",{className:"text-white font-semibold mb-3",children:"Top Products"}),e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"text-gray-400 text-sm",children:"Loading chart…"}),children:e.jsx(E,{data:{labels:o.labels,datasets:[{label:"Qty",data:o.data,backgroundColor:"#34d399"}]},options:{plugins:{legend:{display:!1}}}})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:a,children:[e.jsx("div",{className:"text-white font-semibold mb-2",children:"Active Offers"}),e.jsx("ul",{className:"text-gray-300 list-disc ml-5",children:(m||[]).map(s=>e.jsxs("li",{children:[s.name?`${s.name} — `:"",s.discount,"%"]},s.id))})]}),e.jsxs("div",{className:a,children:[e.jsx("div",{className:"text-white font-semibold mb-2",children:"Low Stock (<= 5)"}),e.jsx("div",{className:"rounded-lg bg-slate-900/30 border border-white/5 p-2 pr-1 max-h-48 overflow-auto thin-scrollbar",children:x.length===0?e.jsx("div",{className:"text-gray-400 text-sm px-1 py-2",children:"All good — no items at or below threshold."}):e.jsx("ul",{className:"divide-y divide-white/5",children:x.map(s=>{const g=s.qty===0?"bg-red-500/20 text-red-300 ring-1 ring-red-400/40":s.qty<=2?"bg-orange-500/20 text-orange-300 ring-1 ring-orange-400/40":"bg-yellow-500/20 text-yellow-300 ring-1 ring-yellow-400/40";return e.jsxs("li",{className:"flex items-center justify-between gap-3 py-2 px-2",children:[e.jsxs("span",{className:"text-gray-200 truncate",title:`${s.branch}: ${s.product}`,children:[s.branch,": ",s.product]}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${g}`,children:s.qty})]},s.key)})})})]}),e.jsxs("div",{className:a,children:[e.jsx("div",{className:"text-white font-semibold mb-2",children:"Branch Ratings"}),e.jsx("div",{className:"rounded-lg bg-slate-900/30 border border-white/5 p-2 pr-1 max-h-48 overflow-auto thin-scrollbar",children:h.length===0?e.jsx("div",{className:"text-gray-400 text-sm px-1 py-2",children:"No branches found."}):e.jsx("ul",{className:"divide-y divide-white/5",children:h.map(s=>e.jsxs("li",{className:"flex items-center justify-between gap-3 py-2 px-2",children:[e.jsx("span",{className:"text-gray-200 truncate",title:s.name,children:s.name}),s.avg===null?e.jsx("span",{className:"text-xs text-gray-400",children:"No reviews"}):e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-yellow-300 font-semibold",children:["★ ",s.avg]}),e.jsxs("span",{className:"text-xs text-gray-400",children:["(",s.count,")"]})]})]},s.id))})})]}),e.jsxs("div",{className:a,children:[e.jsx("div",{className:"text-white font-semibold mb-2",children:"At a Glance"}),e.jsxs("div",{className:"text-gray-300",children:["Branches: ",l.totalBranches]}),e.jsxs("div",{className:"text-gray-300",children:["Products: ",l.totalProducts]}),e.jsxs("div",{className:"text-gray-300",children:["Orders: ",l.totalOrders]}),e.jsxs("div",{className:"text-gray-300",children:["Revenue: Rs. ",l.revenue]})]})]})]})};export{z as default};
