import{j as a,g as w,C as P,E as C,b as E}from"./mui-BJon3m8q.js";import{a as c}from"./chart-BOdAsdoy.js";import{u as S,e as I}from"./redux-hkUHSYAv.js";import{h as D,q,r as k,t as z}from"./index-Bz2acmnO.js";import"./firebase-DhH1w7N4.js";import"./react-8-RJajJm.js";const $=()=>{const[t,n]=c.useState({name:"",price:"",image:""}),[p,o]=c.useState(null),[s,d]=c.useState({name:"",price:"",image:""}),l=S(),{products:x,loading:i}=I(e=>e.productReducer);c.useEffect(()=>{l(D())},[l]);const h=e=>{e.preventDefault(),l(q({...t,price:Number(t.price)})),n({name:"",price:"",image:""})},b=e=>{l(z(e))},j=e=>{o(e.id),d({name:e.name,price:e.price,image:e.image||""})},m=e=>{const{name:u,value:f}=e.target;d(y=>({...y,[u]:f}))},v=e=>{l(k({id:e,data:{name:s.name,price:Number(s.price),image:s.image||""}})),o(null),d({name:"",price:"",image:""})},N=()=>{o(null),d({name:"",price:"",image:""})},r="w-full px-4 py-3 bg-gray-800 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",g="bg-gray-800/60 border border-white/10 rounded-xl p-5 shadow hover:shadow-xl transition-shadow duration-200";return a.jsxs("section",{className:"max-w-7xl mx-auto px-2 md:px-4",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Product Management"}),a.jsx("form",{onSubmit:h,className:`${g} mb-8`,children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-3 items-center",children:[a.jsx("input",{type:"text",placeholder:"Product Name",value:t.name,onChange:e=>n({...t,name:e.target.value}),required:!0,className:r}),a.jsx("input",{type:"number",placeholder:"Price",value:t.price,onChange:e=>n({...t,price:e.target.value}),required:!0,className:r}),a.jsx("input",{type:"url",placeholder:"Image URL (optional)",value:t.image,onChange:e=>n({...t,image:e.target.value}),className:r}),a.jsxs("div",{className:"flex items-center gap-3",children:[t.image&&a.jsx("img",{src:t.image,alt:"Preview",className:"w-12 h-12 object-cover rounded",onError:e=>e.currentTarget.style.display="none"}),a.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 rounded-md font-semibold transition-colors bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-60",children:i?"Adding...":"Add Product"})]})]})}),a.jsx("ul",{className:"space-y-5",children:x.map(e=>a.jsx("li",{className:g,children:p===e.id?a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsx("input",{type:"text",name:"name",value:s.name,onChange:m,required:!0,className:r}),a.jsx("input",{type:"number",name:"price",value:s.price,onChange:m,required:!0,className:r}),a.jsx("input",{type:"url",name:"image",placeholder:"Image URL (optional)",value:s.image,onChange:m,className:r})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[s.image&&a.jsx("img",{src:s.image,alt:"Preview",className:"w-14 h-14 object-cover rounded",onError:u=>u.currentTarget.style.display="none"}),a.jsx("button",{onClick:()=>v(e.id),disabled:i,"aria-label":"Save",title:"Save",className:"p-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-60",children:a.jsx(w,{fontSize:"small"})}),a.jsx("button",{onClick:N,disabled:i,"aria-label":"Cancel",title:"Cancel",className:"p-2 rounded-md bg-gray-700 hover:bg-gray-600 text-white disabled:opacity-60",children:a.jsx(P,{fontSize:"small"})})]})]}):a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.image&&a.jsx("img",{src:e.image,alt:e.name,className:"w-14 h-14 object-cover rounded"}),a.jsxs("div",{className:"text-white text-lg font-medium",children:[e.name," - ",a.jsx("span",{className:"text-blue-300",children:e.price})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>j(e),disabled:i,"aria-label":"Edit product",title:"Edit",className:"p-2 rounded-md bg-green-600 hover:bg-green-700 text-white disabled:opacity-60",children:a.jsx(C,{fontSize:"small"})}),a.jsx("button",{onClick:()=>b(e.id),disabled:i,"aria-label":"Delete product",title:"Delete",className:"p-2 rounded-md bg-red-600 hover:bg-red-700 text-white disabled:opacity-60",children:a.jsx(E,{fontSize:"small"})})]})]})},e.id))})]})};export{$ as default};
