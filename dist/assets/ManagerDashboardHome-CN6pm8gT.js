const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LineChart-CgbrIxX5.js","assets/mui-BJon3m8q.js","assets/chart-BOdAsdoy.js","assets/BarChart-7knSKO9a.js"])))=>i.map(i=>d[i]);
import{f as N,h as f,c as y,j as w,_ as m}from"./index-Bz2acmnO.js";import{j as e}from"./mui-BJon3m8q.js";import{a}from"./chart-BOdAsdoy.js";import{u as B,e as r}from"./redux-hkUHSYAv.js";import{h as k,i as R,j as _,k as P,l as S,n as O,o as T}from"./selectors-CK2Si-pi.js";import"./firebase-DhH1w7N4.js";import"./react-8-RJajJm.js";const L=a.lazy(()=>m(()=>import("./LineChart-CgbrIxX5.js"),__vite__mapDeps([0,1,2]))),M=a.lazy(()=>m(()=>import("./BarChart-7knSKO9a.js"),__vite__mapDeps([3,1,2]))),t="bg-gray-800/60 border border-white/10 rounded-xl p-5 shadow hover:shadow-xl transition-shadow duration-200",$=()=>{const c=B(),o=r(k);a.useEffect(()=>{c(N()),c(f()),c(y()),c(w())},[c]);const s=o?.id,g=a.useMemo(()=>s?R(s):()=>[],[s]),u=a.useMemo(()=>s?_(s):()=>({totalProducts:0,totalOrders:0,revenue:0}),[s]),v=a.useMemo(()=>s?P(s,10):()=>({labels:[],points:[]}),[s]),p=a.useMemo(()=>s?S(s):()=>({labels:[],data:[]}),[s]),j=a.useMemo(()=>s?O(s):()=>[],[s]);r(g);const l=r(u),n=r(v),i=r(p),x=r(j),h=r(T);return o?e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-extrabold mb-6",children:["Dashboard — ",o.name]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:t,children:[e.jsx("div",{className:"text-gray-400",children:"Products"}),e.jsx("div",{className:"text-3xl font-bold text-white",children:l.totalProducts})]}),e.jsxs("div",{className:t,children:[e.jsx("div",{className:"text-gray-400",children:"Orders"}),e.jsx("div",{className:"text-3xl font-bold text-white",children:l.totalOrders})]}),e.jsxs("div",{className:t,children:[e.jsx("div",{className:"text-gray-400",children:"Revenue (est.)"}),e.jsxs("div",{className:"text-3xl font-bold text-emerald-300",children:["Rs. ",l.revenue]})]}),h!==null&&e.jsxs("div",{className:t,children:[e.jsx("div",{className:"text-gray-400",children:"Avg. Rating"}),e.jsxs("div",{className:"text-3xl font-bold text-yellow-300",children:["★ ",h]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[e.jsxs("div",{className:`${t} lg:col-span-2`,children:[e.jsx("div",{className:"text-white font-semibold mb-3",children:"Revenue Trend (last 10 orders)"}),e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"text-gray-400 text-sm",children:"Loading chart…"}),children:e.jsx(L,{data:{labels:n.labels,datasets:[{label:"Revenue",data:n.points,fill:!1,borderColor:"#60a5fa",backgroundColor:"#60a5fa",tension:.3}]},options:{plugins:{legend:{display:!1}}}})})]}),e.jsxs("div",{className:`${t} lg:col-span-1`,children:[e.jsx("div",{className:"text-white font-semibold mb-3",children:"Top Products"}),e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"text-gray-400 text-sm",children:"Loading chart…"}),children:e.jsx(M,{data:{labels:i.labels,datasets:[{label:"Qty",data:i.data,backgroundColor:"#34d399"}]},options:{plugins:{legend:{display:!1}}}})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:t,children:[e.jsx("div",{className:"text-white font-semibold mb-2",children:"Low Stock (<= 5)"}),e.jsx("div",{className:"rounded-lg bg-slate-900/30 border border-white/5 p-2 pr-1 max-h-48 overflow-auto thin-scrollbar",children:x.length===0?e.jsx("div",{className:"text-gray-400 text-sm px-1 py-2",children:"No low stock items."}):e.jsx("ul",{className:"divide-y divide-white/5",children:x.map(d=>{const b=d.qty===0?"bg-red-500/20 text-red-300 ring-1 ring-red-400/40":d.qty<=2?"bg-orange-500/20 text-orange-300 ring-1 ring-orange-400/40":"bg-yellow-500/20 text-yellow-300 ring-1 ring-yellow-400/40";return e.jsxs("li",{className:"flex items-center justify-between gap-3 py-2 px-2",children:[e.jsx("span",{className:"text-gray-200 truncate",children:d.product}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${b}`,children:d.qty})]},d.product)})})})]}),e.jsxs("div",{className:t,children:[e.jsx("div",{className:"text-white font-semibold mb-2",children:"At a Glance"}),e.jsxs("div",{className:"text-gray-300",children:["Branch: ",o.name]}),e.jsxs("div",{className:"text-gray-300",children:["Products: ",l.totalProducts]}),e.jsxs("div",{className:"text-gray-300",children:["Orders: ",l.totalOrders]}),e.jsxs("div",{className:"text-gray-300",children:["Revenue: Rs. ",l.revenue]})]})]})]}):e.jsx("div",{className:t,children:"No branch linked to this manager account."})};export{$ as default};
