import{j as e}from"./mui-BJon3m8q.js";import{a as s}from"./chart-BOdAsdoy.js";import{g as y,j as N,s as S,d as C}from"./firebase-DhH1w7N4.js";import{f as k,y as u,d as P}from"./index-Bz2acmnO.js";import{u as B,e as E}from"./redux-hkUHSYAv.js";import{u as F,L as H}from"./react-8-RJajJm.js";const R=()=>{const[h,m]=s.useState(""),[n,p]=s.useState(""),[g,x]=s.useState(""),[t,b]=s.useState(!1),[q]=s.useState("user"),[l,f]=s.useState(""),i=B(),{branches:w}=E(r=>r.branchReducer),v=F();s.useEffect(()=>{i(k())},[i]);const j=r=>{r.preventDefault();try{const a=y();N(a,n,g).then(async o=>{const d=o.user.uid;u.success("Signed up successfully!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),await S(C(P,"users",d),{name:h,email:n,uid:d,role:"user",branchId:l}),v("/home")}).catch(o=>{const c=o.message;u.error(c,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})})}catch(a){console.log(a)}};return e.jsx("section",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-950 via-gray-900 to-black p-4",children:e.jsx("div",{className:"w-full max-w-md rounded-2xl shadow-2xl border border-white/10 bg-gray-900/70 backdrop-blur-xl",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-2xl shadow-lg mb-3 overflow-hidden",children:e.jsx("img",{src:"/logo.svg",alt:"FranchiseMS",className:"w-14 h-14"})}),e.jsx("h1",{className:"text-3xl font-extrabold text-white",children:"Create an account"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Join and start ordering"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"sr-only",children:"Name"}),e.jsx("div",{className:"relative",children:e.jsx("input",{onChange:r=>m(r.target.value),type:"text",name:"name",id:"name",className:"w-full px-4 h-12 bg-gray-800/80 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition duration-200",placeholder:"Your Name",autoComplete:"name",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),e.jsx("div",{className:"relative",children:e.jsx("input",{onChange:r=>p(r.target.value),type:"email",name:"email",id:"email",className:"w-full px-4 h-12 bg-gray-800/80 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition duration-200",placeholder:"your@example.com",autoComplete:"email",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{onChange:r=>x(r.target.value),type:t?"text":"password",name:"password",id:"password",placeholder:"••••••••",className:"w-full pl-4 pr-20 h-12 bg-gray-800/80 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition duration-200",autoComplete:"new-password",required:!0}),e.jsx("button",{type:"button",onClick:()=>b(r=>!r),"aria-label":t?"Hide password":"Show password",className:"absolute inset-y-0 right-0 px-3 flex items-center text-purple-300 hover:text-white bg-transparent hover:bg-transparent focus:bg-transparent active:bg-transparent outline-none focus:outline-none ring-0 focus:ring-0",children:t?"Hide":"Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Branch"}),e.jsxs("select",{id:"branch",value:l,onChange:r=>f(r.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-800/80 border border-white/10 rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",children:[e.jsx("option",{value:"",children:"Select Branch"}),w.map(r=>e.jsxs("option",{value:r.id,children:[r.name," (",r.location,")"]},r.id))]})]}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 rounded-lg text-white text-lg font-semibold shadow-lg transition-transform duration-200 active:scale-[0.99]",children:"Create Account"}),e.jsxs("p",{className:"text-sm text-gray-400 text-center",children:["Already have an account? ",e.jsx(H,{to:"/login",className:"font-semibold text-purple-400 hover:text-purple-300",children:"Sign in"})]})]})]})})})};export{R as default};
