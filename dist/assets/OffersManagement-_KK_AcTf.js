import{j as e,g as N,C as v,E as w,b as y}from"./mui-BJon3m8q.js";import{a as l}from"./chart-BOdAsdoy.js";import{u as C,e as O}from"./redux-hkUHSYAv.js";import{j as S,x as E,z as D,A as I}from"./index-Bz2acmnO.js";import"./firebase-DhH1w7N4.js";import"./react-8-RJajJm.js";const R=()=>{const[s,r]=l.useState({name:"",discount:""}),[h,m]=l.useState(null),[a,i]=l.useState({name:"",discount:""}),n=C(),{offers:p,loading:o}=O(t=>t.offersReducer);l.useEffect(()=>{n(S())},[n]);const g=t=>{t.preventDefault(),n(E({name:s.name.trim(),discount:Number(s.discount)})),r({name:"",discount:""})},b=t=>{n(I(t))},f=t=>{m(t.id),i({name:t.name||"",discount:t.discount?.toString?.()||""})},u=()=>{m(null),i({name:"",discount:""})},j=t=>{n(D({id:t,data:{name:a.name.trim(),discount:Number(a.discount)}})),u()},d="w-full px-4 py-3 bg-gray-800 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",x="bg-gray-800/60 border border-white/10 rounded-xl p-5 shadow hover:shadow-xl transition-shadow duration-200";return e.jsxs("section",{className:"max-w-4xl mx-auto px-2 md:px-4",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Offers & Discounts"}),e.jsx("form",{onSubmit:g,className:`${x} mb-6`,children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 items-center",children:[e.jsx("input",{type:"text",placeholder:"Offer Name",value:s.name,onChange:t=>r({...s,name:t.target.value}),required:!0,className:d}),e.jsx("input",{type:"number",placeholder:"Discount (%)",value:s.discount,onChange:t=>r({...s,discount:t.target.value}),required:!0,className:d}),e.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 rounded-md font-semibold transition-colors bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-60 w-full sm:w-auto",children:o?"Adding...":"Add Offer"})]})}),e.jsx("ul",{className:"space-y-3",children:p.map(t=>e.jsx("li",{className:`${x}`,children:h===t.id?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[e.jsx("input",{type:"text",value:a.name,onChange:c=>i({...a,name:c.target.value}),placeholder:"Offer Name",className:d}),e.jsx("input",{type:"number",value:a.discount,onChange:c=>i({...a,discount:c.target.value}),placeholder:"Discount (%)",className:d}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>j(t.id),className:"p-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white",title:"Save",children:e.jsx(N,{fontSize:"small"})}),e.jsx("button",{onClick:u,className:"p-2 rounded-md bg-gray-700 hover:bg-gray-600 text-white",title:"Cancel",children:e.jsx(v,{fontSize:"small"})})]})]}):e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"text-white text-lg font-medium",children:[t.name?`${t.name} â€” `:"",e.jsxs("span",{className:"text-blue-300",children:[t.discount,"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(t),className:"p-2 rounded-md bg-green-600 hover:bg-green-700 text-white",title:"Edit",children:e.jsx(w,{fontSize:"small"})}),e.jsx("button",{onClick:()=>b(t.id),disabled:o,"aria-label":"Delete offer",title:"Delete",className:"p-2 rounded-md bg-red-600 hover:bg-red-700 text-white disabled:opacity-60",children:e.jsx(y,{fontSize:"small"})})]})]})},t.id))})]})};export{R as default};
